project

create table project (
id int auto_increment,
name nvarchar(64),
time datetime,
intr nvarchar(255),
admin_id int,
primary key(id),
foreign key (admin_id) references admin(id)
);

do_proj

create table do_proj (
user_id int,
project_id int,
status int,
foreign key(user_id) references user(id),
foreign key(project_id) references project(id),
primary key(user_id,project_id)
);

work

create table work (
name nvarchar(64),
start date,
end date,
istr nvarchar(255),
project_id int,
foreign key (project_id) references project(id),
primary key(name,start,end,project_id)
);

file

create table file (
name nvarchar(64),
time datetime,
own_id int,
intr nvarchar(255),
project_id int,
foreign key(own_id) references user(id),
foreign key(project_id) references project(id),
primary key(name,project_id)
);

modify

create table modify (
id int not null auto_increment,
proj_id int not null,
file_name nvarchar(64) not null,
user_id int not null,
mtime datetime not null default now(),
do int not null,
intr nvarchar(255),
foreign key (proj_id) references project (id),
foreign key (file_name) references file (name),
foreign key (user_id) references user (id),
primary key (id,proj_id)
);
